<xml version="Mixly 2.0 rc3" board="Arduino AVR@Arduino/Genuino Uno"><block type="nulllab_digitalInitPort" id="5+j1K5VC$4q~iXJn_|!;" x="-460" y="-83"><field name="nulllab_encoder">myEncoder</field><field name="nulllab_porta">3</field><field name="nulllab_portb">5</field><field name="nulllab_portd">6</field><next><block type="serial_print" id="{VeOLZ#RMgr8H=BQgom|"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text" id="U[.D6d5-)R(K1u?3nqE6"><field name="TEXT">Encoder Value：</field></block></value><next><block type="serial_print" id="8LD@=!S{S.TSQgS(T8S?"><field name="serial_select">Serial</field><field name="new_line">println</field><comment pinned="false" h="80" w="160">读取旋转编码器值并打印</comment><value name="CONTENT"><block type="nulllab_print" id="tR7Zz}eGfb5P$b`_ge_m"><field name="nulllab_encoder">myEncoder</field></block></value><next><block type="controls_if" id="sfA,|$ixRG=C{5Q`]AKF"><comment pinned="false" h="80" w="160">判断旋转编码器按键是否按下，按下则打印Switch Pressed</comment><value name="IF0"><block type="nulllab_digital" id="=wX47gw-[r+]54x#|R7B"><field name="nulllab_encoder">myEncoder</field></block></value><statement name="DO0"><block type="serial_print" id="_uLEKwU5~JMvbjl|SWHd"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text" id="cE|#wcs#MoRrF/EMtEk@"><field name="TEXT">Switch Pressed</field></block></value></block></statement><next><block type="controls_delay" id="Z|1b3G6ZIPF7Zz=4{7M."><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="Rg;C:S*`{^#PSXxI8XE:"><field name="NUM">100</field></shadow></value></block></next></block></next></block></next></block></next></block></xml><code>I2RlZmluZSBteUVuY29kZXJfQSAzCiNkZWZpbmUgbXlFbmNvZGVyX0IgNQojZGVmaW5lIG15RW5jb2Rlcl9EIDYKCnZvbGF0aWxlIGludCBteUVuY29kZXJfbGFzdEVuY29kZWQgPSAwOwp2b2xhdGlsZSBsb25nIG15RW5jb2Rlcl9lbmNvZGVyVmFsdWUgPSAwOwpsb25nIG15RW5jb2Rlcl9sYXN0ZW5jb2RlclZhbHVlID0gMDsKaW50IG15RW5jb2Rlcl9sYXN0TVNCID0gMDsKaW50IG15RW5jb2Rlcl9sYXN0TFNCID0gMDsKCmxvbmcgbXlFbmNvZGVyX3JlYWRFbmNvZGVyVmFsdWUodm9pZCkgewogIHJldHVybiBteUVuY29kZXJfZW5jb2RlclZhbHVlIC8gNDsKfQoKYm9vbGVhbiBteUVuY29kZXJfaXNCdXR0b25QdXNoRG93bih2b2lkKSB7CiAgaWYgKCFkaWdpdGFsUmVhZChteUVuY29kZXJfRCkpIHsKICAgIGRlbGF5KDUpOwogICAgaWYgKCFkaWdpdGFsUmVhZChteUVuY29kZXJfRCkpCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIHJldHVybiBmYWxzZTsKfQoKdm9pZCB1cGRhdGVFbmNvZGVyX215RW5jb2RlcigpIHsKICBpbnQgTVNCID0gZGlnaXRhbFJlYWQobXlFbmNvZGVyX0EpOwogIGludCBMU0IgPSBkaWdpdGFsUmVhZChteUVuY29kZXJfQik7CiAgaW50IGVuY29kZWQgPSAoTVNCIDw8IDEpIHwgTFNCOwogIGludCBzdW0gID0gKG15RW5jb2Rlcl9sYXN0RW5jb2RlZCA8PCAyKSB8IGVuY29kZWQ7CiAgaWYgKHN1bSA9PSAwYjExMDEgfHwgc3VtID09IDBiMDEwMCB8fCBzdW0gPT0gMGIwMDEwIHx8IHN1bSA9PSAwYjEwMTEpIG15RW5jb2Rlcl9lbmNvZGVyVmFsdWUgKys7CiAgaWYgKHN1bSA9PSAwYjExMTAgfHwgc3VtID09IDBiMDExMSB8fCBzdW0gPT0gMGIwMDAxIHx8IHN1bSA9PSAwYjEwMDApIG15RW5jb2Rlcl9lbmNvZGVyVmFsdWUgLS07CiAgbXlFbmNvZGVyX2xhc3RFbmNvZGVkID0gZW5jb2RlZDsKfQoKdm9pZCBzZXR1cCgpewogIHBpbk1vZGUobXlFbmNvZGVyX0EsIElOUFVUKTsKICBwaW5Nb2RlKG15RW5jb2Rlcl9CLCBJTlBVVCk7CiAgcGluTW9kZShteUVuY29kZXJfRCwgSU5QVVQpOwogIGRpZ2l0YWxXcml0ZShteUVuY29kZXJfQSwgSElHSCk7CiAgZGlnaXRhbFdyaXRlKG15RW5jb2Rlcl9CLCBISUdIKTsKCiAgU2VyaWFsLmJlZ2luKDk2MDApOwogIGF0dGFjaEludGVycnVwdCgwLCB1cGRhdGVFbmNvZGVyX215RW5jb2RlciwgQ0hBTkdFKTsKICBhdHRhY2hJbnRlcnJ1cHQoMSwgdXBkYXRlRW5jb2Rlcl9teUVuY29kZXIsIENIQU5HRSk7Cgp9Cgp2b2lkIGxvb3AoKXsKICBTZXJpYWwucHJpbnRsbigiRW5jb2RlciBWYWx1Ze+8miIpOwogIC8vIOivu+WPluaXi+i9rOe8lueggeWZqOWAvOW5tuaJk+WNsAogIFNlcmlhbC5wcmludGxuKG15RW5jb2Rlcl9yZWFkRW5jb2RlclZhbHVlKCkpOwogIC8vIOWIpOaWreaXi+i9rOe8lueggeWZqOaMiemUruaYr+WQpuaMieS4i++8jOaMieS4i+WImeaJk+WNsFN3aXRjaCBQcmVzc2VkCiAgaWYgKG15RW5jb2Rlcl9pc0J1dHRvblB1c2hEb3duKCkpIHsKICAgIFNlcmlhbC5wcmludGxuKCJTd2l0Y2ggUHJlc3NlZCIpOwoKICB9CiAgZGVsYXkoMTAwKTsKCn0=</code>