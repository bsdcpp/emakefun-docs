# 蓝牙手柄2.0

## 实物图

## 介绍
  
此款手柄是使用蓝牙与ESP32进行连接，ESP32自带蓝牙功能，用户可以直接在ESP32端输入手柄背部的蓝牙配对码连接使用。相对于上一个版本手柄，省去了读取ESP32蓝牙MAC地址再配置到手柄的这一繁琐的过程。

## 规格参数

- 电池容量：400mA

- 充电：5V0.5A、5V1A、5V2A

- 震动反馈：无

- 蓝牙连接距离：约10M

## 使用步骤

- 第一次使用前请插在电脑的USB端口或者5V输出的电源适配器上充会儿电，约5分钟即可，避免在使用过程中因亏电而出现莫名其妙的现象。

### Arduino

#### 安装库
  
先下载安装库`PS3 Controller Host`，这是Arduino官方库，使用Arduino IDE搜索并安装`PS3 Controller Host`，该库的相关介绍可以参考官网：<https://www.arduino.cc/reference/en/libraries/ps3-controller-host/>

#### 输入蓝牙配对码并运行示例代码
  
Arduino IDE打开`PS3 Controller Host`的**连接**示例代码：**Arduino IDE -> 文件 -> 示例 -> PS3 Controller Host -> Ps3Connect**

将手柄背部的`蓝牙配对码`输入到代码中运行，例如手柄蓝牙配对码为`02:00:01:23:45:67`

在示例代码中，找到`setup`函数中的代码`Ps3.begin("01:02:03:04:05:06");`，将其修改为`Ps3.begin("02:00:01:23:45:67");`，如下所示：

```c++
  Ps3.begin("01:02:03:04:05:06");
```

  改为：

```c++
  Ps3.begin("02:00:01:23:45:67");
```

  保存后编译烧录，烧录完成按下板子复位键进行复位，运行成功后串口（示例代码中设置的串口波特率为115200）会有如下打印：

```text
  Ready.
```

#### 配对连接

- 将PS3手柄与电脑或者电源适配器断开连接，不要插任何数据线或者充电线

- 长按手柄一下中间的`单圆键`，手柄的**4个指示灯**会同时**快闪**，这时手柄会自动查询连接ESP32，如果是第一次连接可能要再按一下ESP32的复位键，或多次，不同的主板可能反应速度不一样

- 连接到ESP32后，ESP32串口会循环打印Connected，这样就代表连接成功，如下所示：

```text
  Connected
```

- 连接成功后4个指示灯会一直闪烁，断线后约10秒会自动关机

#### 按键测试

手柄按键摇杆等测试，请自行运行和学习`PS3 Controller Host`的测试代码

- 测试手柄右边4个按键的测试代码：**Arduino IDE -> 文件 -> 示例 -> PS3 Controller Host -> Ps3Data**

- 测试手柄所有按键的测试代码：**Arduino IDE -> 文件 -> 示例 -> PS3 Controller Host -> Ps3Demo**

- **注意**，运行这些测试代码，都需要将手柄背部的`蓝牙配对码`输入到`setup`函数中`Ps3.begin("xx:xx:xx:xx:xx:xx")`函数中，如`Ps3.begin("02:00:01:23:45:67");`

### Mixly

TODO

### Mind+

TODO

## 充电说明

- 手柄充电请使用电脑的USB端口充电或者标准的5V0.5A、5V1A或5V2A电源适配器，不要使用手机的快充充电器

- 充电指示：1-4号灯或者1和4号灯慢闪

- 满电指示：1-4号灯全部常亮或者全部熄灭、1和4号灯常亮

## FAQ
